{% extends 'layout.html' %} 
{% block head %}
{% endblock %} 
{% block title %} View kit {% endblock %} 

{% block main %}
<div class='content-section'>
    <legend class='border-bottom'>
        {{ kit.title }}
        <span class='badge badge-secondary'>{{ kit.category }}</span>
        <a href='{{ url_for("edit_kit", kitID=kit.id) }}'>
            <button type='button' class='btn btn-outline-primary float-right'>Edit</button>
        </a>
    </legend>
    <small>
        {% for tag in kit.tags %}
        <span class='badge badge-primary'>{{ tag.tag }}</span>
        {% endfor %}
    </small>

    <div class='mt-3 mb-3'> {{ kit.kit_description }} </div>

    {% for file in kit.files %}

    <div class='content-section'>
        <a href='{{ url_for("download_kit_file", kitID=kit.id, filename=file.filename) }}'>{{ file.filename }}</a>
    </div>

    {% endfor %}

    <form action='' method='POST' enctype='multipart/form-data'>
        {{ uploadKitFilesForm.hidden_tag() }}
        <div class='form-group'>
            {{ uploadKitFilesForm.files.label(class='form=control-label') }} 
            {% if uploadKitFilesForm.files.errors %}
                <!-- display errors !-->
                {{ uploadKitFilesForm.files(class='form-control form-control-lg is-invalid', autocomplete='off') }}
                {% for error in uploadKitFilesForm.files.errors %}
                    <span class='text-danger'>{{ error }}</span> 
                {% endfor %}
            {% else %} 
                {{ uploadKitFilesForm.files(class='form-control form-control-lg', autocomplete='off') }} 
                <small class='text-muted'>
                    {{ uploadKitFilesForm.files.description }}
                </small>
            {% endif %}
        </div>
        {{ uploadKitFilesForm.submit(class='btn btn-outline-info') }}
    </form>
</div>
</div>
{% endblock %}